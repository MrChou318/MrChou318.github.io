---
title: 函数相关知识梳理
date: 2021-05-06 09:34:00 PM
categories:
    - TypeScript
tags:
    - TypeScript
---
## 函数定义
```ts
// function定义函数
function add1(x:number, y:number) {
    return x + y
}

// 变量定义函数类型
let add2: (x:number, y: number) => number

// 类型别名定义函数类型
type add3 = (x:number, y: number) => number

// 接口定义函数类型
interface add4 {
    (x: number, y: number): number
}
```
后面三种只是定义函数类型，并没有具体的实现

## ts中形参和实参必须一一对应
```ts
add1(1, 2)
// 可选参数(有的参数是可以传，可以不传的)(可选参数必须位于必选参数之后)
function add5(x:number, y?: number) {
    return y? x + y : x
}
add5(1)
```

## 为参数赋予默认值
```ts
function add6(x: number, y = 0, z: number, q = 1) {
    return x + y + z + q
}
// 在必选参数前，默认参数是不可以省略的
add6(1, undefined, 4)   // 6
```

## 不定参数
以上函数参数的个数都是固定的，当参数个数不确定的时候，就可以使用剩余参数
```ts
function add7(x: number, ...rest: number[]) {
    return x + rest.reduce((pre, curr) => pre + curr)
}
add7(1, 2, 3, 4, 5) // 15
```

## 函数重载
函数重载（两个函数名称相同，但参数个数或者参数类型不同）
函数重载的好处：不需要为相同功能的函数取不同的名称，增加了代码的可读性
```ts
function add8(...rest: number[]): number
function add8(...rest: string[]): string
// ts要求在一个类型最宽泛的版本中实现这个重载
function add8(...rest: any[]): any {
    let first = rest[0];
    if (typeof first === 'string') {
        return rest.join('')
    }
    if (typeof first === 'number') {
        return rest.reduce((pre, curr) => pre + curr)
    }
}

console.log(add8(1, 2, 3, 4, 5))    // 15
console.log(add8('a', 'b', 'c', 'd'))   // abcd
```
