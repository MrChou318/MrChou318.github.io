---
title: 与HTTP相关的各种概念
date: 2021-05-06 10:08:00 PM
categories:
    - HTTP协议
tags:
    - HTTP协议
---
![An image](/img/HTTP-02.png)
## 网络世界
互联网的正式名称是Internet，里面存储着无穷无尽的信息资源，我们通常所说的”上网“实际上访问的只是互联网的一个子集
“万维网”(World Wide Web)，它基于HTTP协议，传输HTML等超文本资源，能力也就被限制在HTTP协议之内。  

互联网还有许多万维网之外的资源，例如常用的电子邮件，BT和Magnet点对点下载、FTP文件下载、SSH安全登录、各种即时
通信服务等等，它们需要用各自的专有协议来访问。  

不过由于HTTP协议非常灵活、易于扩展，而且“超文本”的表达能力很强，所以很多其他原本不属于HTTP的资源也可以“包装“成
HTTP来访问，这就是我们为什么总能看到各种”网页应用“--例如”微信网页版“ ”邮箱网页版“--的原因。  

综合起来看，现在的互联网90%以上大部分都被万维网，也就是HTTP所覆盖，所以把互联网约等于万维网或HTTP应该也不算大错。

## 浏览器
上网就要用到浏览器，常见的浏览器有Chrome、Firefox、Safari、IE、Edge。  

所以浏览器到底是个什么东西？  
浏览器的正式名称叫做**Web Browser**，顾名思义，就是检索、查看互联网上网页资源的应用程序，名字里的Web，实际上
指的就是“Web Wide Web”，也就是万维网

浏览器本质上是一个HTTP协议中的**请求方**，使用HTTP协议获取网络上的各种资源。当然，为了让我们更好的检索查看网页，
它还集成了很多额外的功能。  

例如，HTML排版引擎用来展示页面，JavaScript引擎用来实现动态化效果，甚至还有开发者工具用来调试网页，以及五花八门的
各种插件和扩展。

在HTTP协议里，浏览器的角色被称为“User Agent”即”用户代理“，意思是作为访问者的”代理“来发起HTTP请求。不过在不引起
混淆的情况下，我们通常都简单的称为”客户端“。

## Web 服务器
刚才说的是浏览器是HTTP里的请求方，那么协议另一端的**应答方**又是什么呢？就是**服务器 Web Server**。

### 硬件
**硬件**含义就是物理形式或“云”形式的机器，在大多数情况下它可能不是一台服务器，而是利用反向代理、负载均衡等技术
组成的庞大集群。但从外界看来，它仍然表现为一台机器，但这个形象是“虚拟的”。

### 软件
**软件**含义的Web服务器可能我们更为关心，它就是提供Web服务的应用程序，通常会运行在硬件含义的服务器上。它利用
强大的硬件能力响应海量的客户端HTTP请求，处理磁盘上的网页、图片等静态文件，或者把请求转发给后面的Tomcat、Node.js等
业务应用，返回动态的信息。

常用的Web服务器：Apache、Nginx、Windows上的IIS、Java上的Jetty/Tomcat

## CDN
浏览器和服务器是HTTP协议的两个端点，那么中间有什么东西呢？  
其中最重要的一个角色就叫做CDN。

**CDN**,全称“Content Delivery NetWork”，翻译过来就是“内容分发网络”。它应用HTTP协议里的缓存和代理技术，
代替源站响应客户端的请求。

### CDN好处
简单来说，它可以缓存源站的数据，让浏览器的请求不用“千里迢迢”地到达源站服务器，直接在“半路”就可以获取响应。如果
CDN的调度算法很优秀，更可以找到离用户最近的节点，大幅度缩短响应时间。

CDN也是现在互联网中的一项重要基础设施，除了基本的网络加速外，还提供负载均衡、安全防护、边缘计算、跨运营商网络等功能，
能够成倍地“放大“源站服务器的服务能力，很多云服务商都把CDN作为产品的一部分。

## 爬虫
前面说到过浏览器，它是一种用户代理，代替我们访问互联网。  

但HTTP协议并没有规定用户代理后面必须是“真正的人类”，它也完全可以是“机器人”，这些“机器人”的正式名称就叫做“爬虫“(Crawler)，实际上是一种
可以自动访问Web资源的应用程序。

据估计，互联网上至少50%的流量都是爬虫产生的，某些特定领域的比例还会更高，也就是说，如果你的网站今天的访问量是十万，那么里面至少有五六万是爬虫机器人，
而不是真实的用户。  

爬虫怎么来的？  

绝大多数是由各大搜索引擎“放”出来的，抓取网页存入庞大的数据库，再建立关键字索引，这样我们才能够在搜索引擎中快速地搜索到互联网角落里的页面。  

爬虫也有不好的一面，它会过度消耗网络资源，占用服务器和带宽，影响网站对真实数据的分析，甚至导致敏感信息泄露。所以，又出现了”反爬虫“技术，通过各种手段
来限制爬虫。其中一项就是“君子协定”robots.txt，约定哪些该爬，哪些不该爬。  

无论是“爬虫”还是“反爬虫”，用到的基本技术都是两个，一个是HTTP，另一个是HTML。

## HTML/WebService/WAF
**HTML** 是HTTP协议传输的主要内容之一，它描述了超文本页面，用何种”标签“定义文字、图片等资源和排版布局，最终由浏览器”渲染“出可视化页面。  
HTML目前有两个主要的标准，HTML4和HTML5。广义上的HTML通常是指HTML、JavaScript、CSS等前段技术的组合，能够是实现比传统静态页面更丰富的动态页面。  

**Web Service**，它的名字与Web Server很像，但却是一个完全不同的东西。  

Web Service 是一种由W3C顶一顶应用服务开发规范，使用client-server主从架构，通常使用WSDL定义服务接口，使用HTTP协议传输XML或SOAP消息，也就是说，它是
**一个基于Web（HTTP）的服务架构技术**，既可以运行在内网，也可以在适当保护后运行在外网。  

因为采用了HTTP协议传输数据，所以在Web Service架构里服务器和客户端可以采用不同的操作系统或编程语言开发。例如服务器用Linux+Java，客户端用Window+C#，
具有跨平台语言的优点。

**WAF**意思是“网络应用防火墙**。与硬件”防火墙“类似，它是应用层的”防火墙“，专门检测HTTP流量，是防护Web应用的安全技术。  

WAF通常位于Web服务器之前，可以阻止如SQL注入、跨站脚本攻击，目前应用较多的一个开源项目是ModSecurity，它能够完全集成进Apache或Nginx。
