{"remainingRequest":"D:\\work\\project\\vue-press\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\project\\vue-press\\node_modules\\vuepress-plugin-cursor-effects\\bin\\CursorEffects.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\project\\vue-press\\node_modules\\vuepress-plugin-cursor-effects\\bin\\CursorEffects.vue","mtime":1610627503454},{"path":"D:\\work\\project\\vue-press\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610627497906},{"path":"D:\\work\\project\\vue-press\\node_modules\\babel-loader\\lib\\index.js","mtime":1610627497374},{"path":"D:\\work\\project\\vue-press\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610627497906},{"path":"D:\\work\\project\\vue-press\\node_modules\\vue-loader\\lib\\index.js","mtime":1610627503299}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KCmltcG9ydCB7IEJvb20gfSBmcm9tICIuL2Fzc2V0cy9qcy9ib29tLmpzIgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkN1cnNvckVmZmVjdHMiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaGFwZTogRUZGRUNUU19TSEFQRSwKICAgICAgc2l6ZTogRUZGRUNUU19TSVpFLAogICAgICB6SW5kZXg6IEVGRkVDVFNfWl9JTkRFWCwKICAgICAgY29tcHV0ZXJDYW52YXM6IG51bGwsCiAgICAgIHJlbmRlckNhbnZhczogbnVsbCwKICAgICAgY29tcHV0ZXJDb250ZXh0OiBudWxsLAogICAgICByZW5kZXJDb250ZXh0OiBudWxsLAogICAgICBhcmVhOiB7d2lkdGg6IDAsIGhlaWdodDogMH0sCiAgICAgIHJlc2l6ZVRpbWVvdXQ6IG51bGwKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNvbXB1dGVyQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykKICAgIHRoaXMucmVuZGVyQ2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Z1ZXByZXNzLWNhbnZhcy1jdXJzb3InKQoKICAgIHRoaXMuY29tcHV0ZXJDb250ZXh0ID0gdGhpcy5jb21wdXRlckNhbnZhcy5nZXRDb250ZXh0KCcyZCcpCiAgICB0aGlzLnJlbmRlckNvbnRleHQgPSB0aGlzLnJlbmRlckNhbnZhcy5nZXRDb250ZXh0KCcyZCcpCgogICAgdGhpcy5hcmVhLndpZHRoID0gd2luZG93LmlubmVyV2lkdGgKICAgIHRoaXMuYXJlYS5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQKCiAgICB0aGlzLmJvb21zID0gW10KICAgIHRoaXMucnVubmluZyA9IGZhbHNlCiAgICB0aGlzLmluaXQoKQogIH0sCgogIG1ldGhvZHM6IHsKICAgIGluaXQoKSB7CiAgICAgIHRoaXMuc2V0U3R5bGUodGhpcy5yZW5kZXJDYW52YXMuc3R5bGUpCiAgICAgIHRoaXMucmVuZGVyQ2FudmFzLndpZHRoID0gdGhpcy5jb21wdXRlckNhbnZhcy53aWR0aCA9IHRoaXMuYXJlYS53aWR0aAogICAgICB0aGlzLnJlbmRlckNhbnZhcy5oZWlnaHQgPSB0aGlzLmNvbXB1dGVyQ2FudmFzLmhlaWdodCA9IHRoaXMuYXJlYS5oZWlnaHQKCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLmhhbmRsZU1vdXNlRG93bikKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BhZ2VoaWRlJywgdGhpcy5oYW5kbGVQYWdlSGlkZSkKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuaGFuZGxlUmVzaXplKQogICAgfSwKCiAgICBzZXRTdHlsZShzdHlsZSkgewogICAgICBzdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCcKICAgICAgc3R5bGUudG9wID0gMAogICAgICBzdHlsZS5sZWZ0ID0gMAogICAgICBzdHlsZS56SW5kZXggPSB0aGlzLnpJbmRleAogICAgICBzdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnCiAgICAgIHN0eWxlLndpZHRoID0gdGhpcy5hcmVhLndpZHRoCiAgICAgIHN0eWxlLmhlaWdodCA9IHRoaXMuYXJlYS5oZWlnaHQKICAgIH0sCgogICAgaGFuZGxlTW91c2VEb3duKGUpIHsKICAgICAgY29uc3QgYm9vbSA9IG5ldyBCb29tKHsKICAgICAgICBvcmlnaW46IHsgeDogZS5jbGllbnRYLCB5OiBlLmNsaWVudFkgfSwKICAgICAgICBjb250ZXh0OiB0aGlzLmNvbXB1dGVyQ29udGV4dCwKICAgICAgICBzaXplOiB0aGlzLnNpemUsCiAgICAgICAgc2hhcGU6IHRoaXMuc2hhcGUsCiAgICAgICAgYXJlYTogdGhpcy5hcmVhCiAgICAgIH0pCiAgICAgIGJvb20uaW5pdCgpCiAgICAgIHRoaXMuYm9vbXMucHVzaChib29tKQogICAgICB0aGlzLnJ1bm5pbmcgfHwgdGhpcy5ydW4oKQogICAgfSwKCiAgICBoYW5kbGVQYWdlSGlkZSgpIHsKICAgICAgdGhpcy5ib29tcyA9IFtdCiAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlCiAgICB9LAoKICAgIGhhbmRsZVJlc2l6ZSgpIHsKICAgICAgaWYodGhpcy5yZXNpemVUaW1lb3V0ICE9IG51bGwpewogICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJlc2l6ZVRpbWVvdXQpOwogICAgICB9CiAgICAgIHRoaXMucmVzaXplVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuYXJlYS53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoCiAgICAgICAgdGhpcy5hcmVhLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodAogICAgICAgIHRoaXMucmVuZGVyQ2FudmFzLndpZHRoID0gdGhpcy5jb21wdXRlckNhbnZhcy53aWR0aCA9IHRoaXMuYXJlYS53aWR0aAogICAgICAgIHRoaXMucmVuZGVyQ2FudmFzLmhlaWdodCA9IHRoaXMuY29tcHV0ZXJDYW52YXMuaGVpZ2h0ID0gdGhpcy5hcmVhLmhlaWdodAogICAgICB9LCA1MDApCiAgICB9LAoKICAgIHJ1bigpIHsKICAgICAgdGhpcy5ydW5uaW5nID0gdHJ1ZQogICAgICBpZiAodGhpcy5ib29tcy5sZW5ndGggPT0gMCkgewogICAgICAgIHJldHVybiB0aGlzLnJ1bm5pbmcgPSBmYWxzZQogICAgICB9CgogICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5ydW4pCgogICAgICB0aGlzLmNvbXB1dGVyQ29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5hcmVhLndpZHRoLCB0aGlzLmFyZWEuaGVpZ2h0KQogICAgICB0aGlzLnJlbmRlckNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuYXJlYS53aWR0aCwgdGhpcy5hcmVhLmhlaWdodCkKCiAgICAgIHRoaXMuYm9vbXMuZm9yRWFjaCgoYm9vbSwgaW5kZXgpID0+IHsKICAgICAgICBpZiAoYm9vbS5zdG9wKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5ib29tcy5zcGxpY2UoaW5kZXgsIDEpCiAgICAgICAgICByZXR1cm4KICAgICAgICB9CiAgICAgICAgYm9vbS5tb3ZlKCkKICAgICAgICBib29tLmRyYXcoKQogICAgICB9KQogICAgICB0aGlzLnJlbmRlckNvbnRleHQuZHJhd0ltYWdlKHRoaXMuY29tcHV0ZXJDYW52YXMsIDAsIDAsIHRoaXMuYXJlYS53aWR0aCwgdGhpcy5hcmVhLmhlaWdodCkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["CursorEffects.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CursorEffects.vue","sourceRoot":"node_modules/vuepress-plugin-cursor-effects/bin","sourcesContent":["<template>\r\n  <canvas id=\"vuepress-canvas-cursor\"></canvas>\r\n</template>\r\n\r\n<script>\r\n  import { Boom } from \"./assets/js/boom.js\"\r\n  export default {\r\n    name: \"CursorEffects\",\r\n    data() {\r\n      return {\r\n        shape: EFFECTS_SHAPE,\r\n        size: EFFECTS_SIZE,\r\n        zIndex: EFFECTS_Z_INDEX,\r\n        computerCanvas: null,\r\n        renderCanvas: null,\r\n        computerContext: null,\r\n        renderContext: null,\r\n        area: {width: 0, height: 0},\r\n        resizeTimeout: null\r\n      }\r\n    },\r\n    mounted() {\r\n      this.computerCanvas = document.createElement('canvas')\r\n      this.renderCanvas = document.getElementById('vuepress-canvas-cursor')\r\n\r\n      this.computerContext = this.computerCanvas.getContext('2d')\r\n      this.renderContext = this.renderCanvas.getContext('2d')\r\n\r\n      this.area.width = window.innerWidth\r\n      this.area.height = window.innerHeight\r\n\r\n      this.booms = []\r\n      this.running = false\r\n      this.init()\r\n    },\r\n\r\n    methods: {\r\n      init() {\r\n        this.setStyle(this.renderCanvas.style)\r\n        this.renderCanvas.width = this.computerCanvas.width = this.area.width\r\n        this.renderCanvas.height = this.computerCanvas.height = this.area.height\r\n\r\n        window.addEventListener('mousedown', this.handleMouseDown)\r\n        window.addEventListener('pagehide', this.handlePageHide)\r\n        window.addEventListener('resize', this.handleResize)\r\n      },\r\n\r\n      setStyle(style) {\r\n        style.position = 'fixed'\r\n        style.top = 0\r\n        style.left = 0\r\n        style.zIndex = this.zIndex\r\n        style.pointerEvents = 'none'\r\n        style.width = this.area.width\r\n        style.height = this.area.height\r\n      },\r\n\r\n      handleMouseDown(e) {\r\n        const boom = new Boom({\r\n          origin: { x: e.clientX, y: e.clientY },\r\n          context: this.computerContext,\r\n          size: this.size,\r\n          shape: this.shape,\r\n          area: this.area\r\n        })\r\n        boom.init()\r\n        this.booms.push(boom)\r\n        this.running || this.run()\r\n      },\r\n\r\n      handlePageHide() {\r\n        this.booms = []\r\n        this.running = false\r\n      },\r\n\r\n      handleResize() {\r\n        if(this.resizeTimeout != null){\r\n          clearTimeout(this.resizeTimeout);\r\n        }\r\n        this.resizeTimeout = setTimeout(() => {\r\n          this.area.width = window.innerWidth\r\n          this.area.height = window.innerHeight\r\n          this.renderCanvas.width = this.computerCanvas.width = this.area.width\r\n          this.renderCanvas.height = this.computerCanvas.height = this.area.height\r\n        }, 500)\r\n      },\r\n\r\n      run() {\r\n        this.running = true\r\n        if (this.booms.length == 0) {\r\n          return this.running = false\r\n        }\r\n\r\n        requestAnimationFrame(this.run)\r\n\r\n        this.computerContext.clearRect(0, 0, this.area.width, this.area.height)\r\n        this.renderContext.clearRect(0, 0, this.area.width, this.area.height)\r\n\r\n        this.booms.forEach((boom, index) => {\r\n          if (boom.stop) {\r\n            delete this.booms.splice(index, 1)\r\n            return\r\n          }\r\n          boom.move()\r\n          boom.draw()\r\n        })\r\n        this.renderContext.drawImage(this.computerCanvas, 0, 0, this.area.width, this.area.height)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n"]}]}